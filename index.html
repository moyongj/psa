<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç½‘ç»œå®‰å…¨æ•™å­¦å·¥å…·ï¼šå¯†ç å¼ºåº¦åˆ†æå™¨ by è‚–ç«‹å²š</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }

        body {
            background-color: #1E1E1E;
            color: white;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .title {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0 40px;
        }

        .input-group {
            width: 100%;
            margin: 20px 0;
        }

        .password-input {
            width: 100%;
            padding: 15px;
            font-size: 32px;
            background: #333333;
            border: none;
            color: white;
            border-radius: 4px;
        }

        .analyze-btn {
            display: block;
            margin: 20px auto;
            padding: 20px 40px;
            background: #007ACC;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
        }

        .analyze-btn:hover {
            background: #0062A3;
        }

        .result-panel {
            background: #333333;
            padding: 20px;
            border-radius: 4px;
            margin-top: 20px;
        }

        .result-item {
            margin: 20px 0;
            line-height: 1.6;
        }

        .crack-time {
            font-size: 20px;
            font-weight: bold;
        }

        .strength-level {
            font-size: 16px;
            color: #CCCCCC;
        }

        .entropy-value {
            font-size: 12px;
            color: #999999;
        }

        .suggestion {
            font-size: 12px;
            color: #AAAAAA;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">ğŸ” ç½‘ç»œå®‰å…¨æ•™å­¦å·¥å…·ï¼šå¯†ç å¼ºåº¦åˆ†æå™¨ by è‚–ç«‹å²š</h1>
        
        <div class="input-group">
            <input type="text" class="password-input" placeholder="è¾“å…¥å¯†ç ">
        </div>
        
        <button class="analyze-btn" onclick="analyzePassword()">ç«‹å³åˆ†æ</button>
        
        <div class="result-panel">
            <div class="result-item crack-time">é¢„è®¡ç ´è§£æ—¶é—´ï¼š-</div>
            <div class="result-item strength-level">å¯†ç å¼ºåº¦ï¼š-</div>
            <div class="result-item entropy-value">ç†µå€¼ï¼š-</div>
            <div class="result-item suggestion">å®‰å…¨å»ºè®®ï¼šç­‰å¾…è¾“å…¥...</div>
        </div>
    </div>

    <script>
        function calculateEntropy(password) {
            const charSets = {
                lower: 26,
                upper: 26,
                digit: 10,
                special: 32
            };

            let charsetSize = 0;
            if (/[a-z]/.test(password)) charsetSize += charSets.lower;
            if (/[A-Z]/.test(password)) charsetSize += charSets.upper;
            if (/\d/.test(password)) charsetSize += charSets.digit;
            if (/[^a-zA-Z0-9]/.test(password)) charsetSize += charSets.special;
            
            return charsetSize === 0 ? 0 : password.length * Math.log2(charsetSize);
        }

        function estimateCrackTime(entropy) {
            const ATTACK_SPEED = 1e6;
            const combinations = Math.pow(2, entropy);
            let seconds = combinations / ATTACK_SPEED;

            const timeUnits = [
                ['ç§’', 1],
                ['åˆ†é’Ÿ', 60],
                ['å°æ—¶', 3600],
                ['å¤©', 86400],
                ['å¹´', 31536000]
            ];

            for (let i = timeUnits.length - 1; i >= 0; i--) {
                const [unit, divisor] = timeUnits[i];
                if (seconds >= divisor) {
                    return `${(seconds / divisor).toLocaleString(undefined, {maximumFractionDigits:1})} ${unit}`;
                }
            }
            return "ç¬é—´";
        }

        function evaluateStrength(seconds) {
            if (seconds < 60) return { level: "å¼±", color: "#FF4444" };
            if (seconds < 31536000) return { level: "ä¸­ç­‰", color: "#FFC107" };
            return { level: "å¼º", color: "#00C853" };
        }

        function generateSuggestions(password) {
            const suggestions = [];
            
            if (password.length < 12) {
                suggestions.push("â– å»¶é•¿å¯†ç è‡³12ä½ä»¥ä¸Š");
            }

            let charTypes = 0;
            if (/[A-Z]/.test(password)) charTypes++;
            if (/[a-z]/.test(password)) charTypes++;
            if (/\d/.test(password)) charTypes++;
            if (/[^a-zA-Z0-9]/.test(password)) charTypes++;
            if (charTypes < 3) {
                suggestions.push("â– æ··åˆ3ç§ä»¥ä¸Šå­—ç¬¦ç±»å‹ï¼ˆå¤§å°å†™+æ•°å­—+ç¬¦å·ï¼‰");
            }

            if (/(.)\1{2}/.test(password)) {
                suggestions.push("â– é¿å…3ä¸ªä»¥ä¸Šé‡å¤å­—ç¬¦ï¼ˆå¦‚aaa/111ï¼‰");
            }

            if (/123|qwe|asd/i.test(password)) {
                suggestions.push("â– ä¸è¦ä½¿ç”¨é”®ç›˜è¿ç»­åºåˆ—");
            }

            return suggestions.length > 0 
                ? suggestions.join("\n")
                : "âœ… å½“å‰å¯†ç å®‰å…¨æ€§è‰¯å¥½";
        }

        function analyzePassword() {
            const password = document.querySelector('.password-input').value;
            
            if (!password) {
                alert("è¯·è¾“å…¥è¦æ£€æµ‹çš„å¯†ç ");
                return;
            }

            if (/[\u4e00-\u9fff]/.test(password)) {
                alert("å¯†ç ä¸èƒ½åŒ…å«ä¸­æ–‡å­—ç¬¦ï¼");
                document.querySelector('.password-input').value = '';
                return;
            }

            const entropy = calculateEntropy(password);
            const crackTimeText = estimateCrackTime(entropy);
            const seconds = Math.pow(2, entropy) / 1e6;
            const strength = evaluateStrength(seconds);
            const suggestions = generateSuggestions(password);

            // æ›´æ–°ç•Œé¢
            document.querySelector('.crack-time').textContent = `é¢„è®¡ç ´è§£æ—¶é—´ï¼š${crackTimeText}`;
            document.querySelector('.crack-time').style.color = strength.color;
            document.querySelector('.strength-level').textContent = `å¯†ç å¼ºåº¦ï¼š${strength.level}`;
            document.querySelector('.strength-level').style.color = strength.color;
            document.querySelector('.entropy-value').textContent = `ç†µå€¼ï¼š${entropy.toFixed(1)} bits`;
            document.querySelector('.suggestion').textContent = `å®‰å…¨å»ºè®®ï¼š\n${suggestions}`;
        }
    </script>
</body>
</html>
